{
  "description": "Unsecure output tests - HTML escaping disabled",
  "tests": [
    {
      "name": "unsecure outputs raw html",
      "template": "{[!unsecure html ]}",
      "data": {"html": "<b>bold</b>"},
      "expected": "<b>bold</b>"
    },
    {
      "name": "unsecure with script tag",
      "template": "{[!unsecure html ]}",
      "data": {"html": "<script>alert('test')</script>"},
      "expected": "<script>alert('test')</script>"
    },
    {
      "name": "unsecure with ampersand",
      "template": "{[!unsecure value ]}",
      "data": {"value": "a & b"},
      "expected": "a & b"
    },
    {
      "name": "unsecure with quotes",
      "template": "{[!unsecure value ]}",
      "data": {"value": "\"quoted\" and 'single'"},
      "expected": "\"quoted\" and 'single'"
    },
    {
      "name": "unsecure with angle brackets",
      "template": "{[!unsecure value ]}",
      "data": {"value": "<tag>content</tag>"},
      "expected": "<tag>content</tag>"
    },
    {
      "name": "escaped and unsecure side by side",
      "template": "{[ html ]}{[!unsecure html ]}{[ html ]}",
      "data": {"html": "<b>"},
      "expected": "&lt;b&gt;<b>&lt;b&gt;"
    },
    {
      "name": "unsecure with dotted path",
      "template": "{[!unsecure user.html ]}",
      "data": {"user": {"html": "<em>emphasis</em>"}},
      "expected": "<em>emphasis</em>"
    },
    {
      "name": "unsecure in if block",
      "template": "{[#if show]}{[!unsecure html ]}{[/if]}",
      "data": {"show": true, "html": "<b>bold</b>"},
      "expected": "<b>bold</b>"
    },
    {
      "name": "unsecure in each block",
      "template": "{[#each items as item]}{[!unsecure item ]}{[/each]}",
      "data": {"items": ["<a>", "<b>"]},
      "expected": "<a><b>"
    },
    {
      "name": "unsecure with whitespace control before",
      "template": "line1\n  {[-!unsecure html ]}",
      "data": {"html": "<b>"},
      "expected": "line1\n<b>"
    },
    {
      "name": "unsecure with whitespace control after",
      "template": "{[!unsecure html -]}\nnext",
      "data": {"html": "<b>"},
      "expected": "<b>next"
    },
    {
      "name": "unsecure with whitespace control both",
      "template": "before\n  {[-!unsecure html -]}\nafter",
      "data": {"html": "<b>"},
      "expected": "before\n<b>after"
    }
  ]
}
