{
  "description": "Include directive tests - requires template loader setup",
  "note": "These tests require a configured include_root with partial files",
  "tests": [
    {
      "name": "basic include",
      "template": "{[!include /simple ]}",
      "partials": {
        "/simple": "Hello from partial"
      },
      "data": {},
      "expected": "Hello from partial"
    },
    {
      "name": "include with nested path",
      "template": "{[!include /components/header ]}",
      "partials": {
        "/components/header": "Header Content"
      },
      "data": {},
      "expected": "Header Content"
    },
    {
      "name": "include with argument",
      "template": "{[!include /greeting name=user ]}",
      "partials": {
        "/greeting": "Hello, {[ name ]}!"
      },
      "data": {"user": "Alice"},
      "expected": "Hello, Alice!"
    },
    {
      "name": "include with multiple arguments",
      "template": "{[!include /card title=cardTitle body=cardBody ]}",
      "partials": {
        "/card": "[{[ title ]}] {[ body ]}"
      },
      "data": {"cardTitle": "Title", "cardBody": "Body"},
      "expected": "[Title] Body"
    },
    {
      "name": "include with path argument",
      "template": "{[!include /user name=user.name ]}",
      "partials": {
        "/user": "User: {[ name ]}"
      },
      "data": {"user": {"name": "Bob"}},
      "expected": "User: Bob"
    },
    {
      "name": "include in if block",
      "template": "{[#if show]}{[!include /content ]}{[/if]}",
      "partials": {
        "/content": "Shown"
      },
      "data": {"show": true},
      "expected": "Shown"
    },
    {
      "name": "include in each block",
      "template": "{[#each items as item]}{[!include /item value=item ]}{[/each]}",
      "partials": {
        "/item": "[{[ value ]}]"
      },
      "data": {"items": ["a", "b"]},
      "expected": "[a][b]"
    },
    {
      "name": "include allows shadowing",
      "template": "{[!include /shadow name=other ]}",
      "partials": {
        "/shadow": "{[ name ]}"
      },
      "data": {"name": "original", "other": "shadowed"},
      "expected": "shadowed"
    },
    {
      "name": "include with variable in partial",
      "template": "{[!include /wrapper ]}",
      "partials": {
        "/wrapper": "{[ globalVar ]}"
      },
      "data": {"globalVar": "global"},
      "expected": "global"
    },
    {
      "name": "nested includes",
      "template": "{[!include /outer ]}",
      "partials": {
        "/outer": "Outer[{[!include /inner ]}]",
        "/inner": "Inner"
      },
      "data": {},
      "expected": "Outer[Inner]"
    },
    {
      "name": "include with whitespace control before",
      "template": "line1\n  {[-!include /content ]}",
      "partials": {
        "/content": "partial"
      },
      "data": {},
      "expected": "line1\npartial"
    },
    {
      "name": "include with whitespace control after",
      "template": "{[!include /content -]}\nnext",
      "partials": {
        "/content": "partial"
      },
      "data": {},
      "expected": "partialnext"
    },
    {
      "name": "include with whitespace control both",
      "template": "before\n  {[-!include /content -]}\nafter",
      "partials": {
        "/content": "partial"
      },
      "data": {},
      "expected": "before\npartialafter"
    }
  ]
}
